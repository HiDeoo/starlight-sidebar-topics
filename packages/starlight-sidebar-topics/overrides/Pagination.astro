---
import Default from '@astrojs/starlight/components/Pagination.astro'
import type { Props } from '@astrojs/starlight/props'

import { isTopicFirstPage, isTopicLastPage } from '../libs/sidebar'

const { id, pagination, sidebar } = Astro.props
let { prev, next } = pagination

if (isTopicFirstPage(sidebar, id)) {
  prev = undefined
}

if (isTopicLastPage(sidebar, id)) {
  next = undefined
}
---

<Default {...Astro.props} pagination={{ prev, next }}><slot /></Default>
