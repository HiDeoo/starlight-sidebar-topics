---
import config from 'virtual:starlight-sidebar-topics-config'

import type { StarlightSidebarTopicsSharedConfig } from '../libs/config'

interface Props {
  current: StarlightSidebarTopicsSharedConfig[number]
}

const { current } = Astro.props
---

<ul>
  {
    config.map((topic) => {
      const isLinkTopic = topic.type === 'link'
      // TODO(HiDeoo) i18n
      const isCurrent = isLinkTopic ? false : topic.label === current.label && topic.link === current.link

      return (
        <li>
          <a href={topic.link}>
            {isCurrent ? '[x] - ' : '[ ] - '}
            {topic.label}
          </a>
        </li>
      )
    })
  }
</ul>
